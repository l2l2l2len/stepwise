@import "tailwindcss";

:root {
  --apple-blue: #007AFF;
  --apple-bg: #FBFBFD;
  --apple-dark-bg: #121212;
  --apple-dark-surface: #1E1E1E;
  --apple-dark-elevated: #2A2A2A;
  --apple-dark-separator: #3A3A3C;
  --apple-dark-text: #F5F5F7;
  --apple-dark-secondary-text: #A1A1A6;
  --apple-dark-sidebar: #1A1A1A;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "SF UI Text", "Helvetica Neue", Helvetica, Arial, sans-serif;
  background-color: var(--apple-bg);
  color: #1D1D1F;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin: 0;
  padding: 0;
  letter-spacing: -0.015em;
  overflow-x: hidden;
}

/* Dark Mode Body Styles */
.dark body,
.dark {
  background-color: var(--apple-dark-bg) !important;
  color: var(--apple-dark-text) !important;
}

/* Dark Mode Background Overrides */
.dark .bg-\[\#FBFBFD\],
.dark .bg-\[\#F2F2F7\],
.dark .bg-apple-bg,
.dark .bg-apple-lightGray {
  background-color: var(--apple-dark-bg) !important;
}

.dark .bg-white {
  background-color: var(--apple-dark-surface) !important;
}

.dark .bg-white\/80 {
  background-color: rgba(30, 30, 30, 0.9) !important;
}

/* Dark Mode Sidebar Specific Styles */
.dark aside,
.dark aside .apple-blur {
  background-color: var(--apple-dark-sidebar) !important;
  border-color: var(--apple-dark-separator) !important;
}

.dark aside .bg-white\/80 {
  background-color: rgba(26, 26, 26, 0.95) !important;
}

.dark aside .hover\:bg-black\/\[0\.04\]:hover,
.dark aside .hover\:bg-black\/\[0\.05\]:hover {
  background-color: var(--apple-dark-elevated) !important;
}

.dark aside .bg-black\/\[0\.03\] {
  background-color: rgba(255, 255, 255, 0.05) !important;
}

.dark aside .border-black\/\[0\.05\],
.dark aside .border-black\/\[0\.02\] {
  border-color: var(--apple-dark-separator) !important;
}

.dark aside .text-apple-gray\/60 {
  color: rgba(161, 161, 166, 0.6) !important;
}

.dark .shadow-\[20px_0_60px_rgba\(0\,0\,0\,0\.06\)\] {
  box-shadow: 20px 0 60px rgba(0, 0, 0, 0.4) !important;
}

/* Dark mode gradient backgrounds */
.dark .bg-gradient-to-tr {
  background-image: linear-gradient(to top right, rgba(52, 199, 89, 0.12), rgba(0, 122, 255, 0.12)) !important;
}

/* Dark Mode Text Color Overrides */
.dark .text-apple-darkGray,
.dark .text-\[\#1D1D1F\],
.dark .text-black {
  color: var(--apple-dark-text) !important;
}

.dark .text-apple-gray {
  color: var(--apple-dark-secondary-text) !important;
}

/* Dark Mode Border Overrides */
.dark .border-black\/\[0\.05\],
.dark .border-black\/\[0\.03\],
.dark .border-black\/5,
.dark .border-black\/10 {
  border-color: var(--apple-dark-separator) !important;
}

/* Dark Mode Card Styles */
.dark .apple-card {
  background: var(--apple-dark-surface) !important;
  border-color: var(--apple-dark-separator) !important;
}

.dark .apple-card:hover {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Dark Mode Blur Background */
.dark .apple-blur {
  background-color: rgba(28, 28, 30, 0.72) !important;
}

/* Dark Mode Hover States */
.dark .hover\:bg-apple-lightGray\/30:hover,
.dark .hover\:bg-apple-lightGray\/50:hover {
  background-color: var(--apple-dark-elevated) !important;
}

/* Dark Mode Input Styles */
.dark input,
.dark textarea,
.dark select {
  background-color: var(--apple-dark-surface) !important;
  color: var(--apple-dark-text) !important;
  border-color: var(--apple-dark-separator) !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: var(--apple-dark-secondary-text) !important;
}

/* Dark Mode Scrollbar */
.dark ::-webkit-scrollbar-track {
  background: var(--apple-dark-bg);
}

.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Dark Mode KaTeX */
.dark .katex-display {
  background: rgba(0, 122, 255, 0.08) !important;
}

/* Light Mode Original Styles */
.apple-blur {
  backdrop-filter: blur(25px) saturate(190%);
  -webkit-backdrop-filter: blur(25px) saturate(190%);
  background-color: rgba(255, 255, 255, 0.72);
}

.apple-card {
  background: #FFFFFF;
  border: 1px solid rgba(0, 0, 0, 0.04);
  border-radius: 20px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.02);
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s ease;
}

.apple-card:hover {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
}

.katex-display {
  margin: 1.5em 0 !important;
  padding: 1.5em !important;
  background: rgba(0, 122, 255, 0.02);
  border-radius: 16px;
  overflow-x: auto;
  overflow-y: hidden;
}

.katex {
  font-size: 1.15em !important;
}

h1,
h2,
h3,
h4,
.font-bold {
  letter-spacing: -0.022em;
}

input,
textarea,
button,
select {
  font-family: inherit;
}

/* Custom scrollbar for a cleaner look */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.15);
}

/* Page transitions */
.page-fade-enter {
  opacity: 0;
}

.page-fade-enter-active {
  opacity: 1;
  transition: opacity 300ms ease-in;
}

/* Define custom theme colors for Tailwind v4 */
@theme {
  --color-apple-blue: #007AFF;
  --color-apple-gray: #8E8E93;
  --color-apple-lightGray: #F2F2F7;
  --color-apple-darkGray: #1D1D1F;
  --color-apple-bg: #FBFBFD;
  --color-apple-success: #34C759;
  --color-apple-warning: #FF9500;
  --color-apple-danger: #FF3B30;

  --font-family-sans: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "SF UI Text", "Helvetica Neue", Helvetica, Arial, sans-serif;
  --font-family-mono: "JetBrains Mono", monospace;

  --radius-apple-xl: 20px;
  --radius-apple-2xl: 24px;
  --radius-apple-3xl: 32px;

  --shadow-apple-soft: 0 8px 32px rgba(0, 0, 0, 0.04);
  --shadow-apple-deep: 0 12px 48px rgba(0, 0, 0, 0.08);
}